<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="../static/jquery/jquery-3.6.0.min.js"></script>
    <script src="../static/d3js/dist/d3.min.js"></script>

    <title>d3.js PRACTICE</title>
</head>
<body>
    <div id="test1">
        <h2>TEST1</h2>
        <p>jQuery의 each 함수 이용하여 그린 막대 그래프</p>
        <p>data: 3, 6, 9, 12, 15, 18, 21, 24, 27, 30</p>
        <svg width="500" height="150"></svg>
    </div>
    
    <div id="test2">
        <h2>TEST2</h2>
        <p>d3.js의 selectAll 함수 이용하여 그린 막대 그래프</p>
        <p>data: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</p>
        <svg width="500" height="150"></svg>
    </div>

    <script>
        $(()=>{
            const data1 = [3, 6, 9, 12, 15, 18, 21, 24, 27, 30];
            const svg1 = d3.select('#test1 svg');
            // svg_data.forEach((data, idx)=>{
            $.each(data1, (idx, data)=>{
                // svg 하위에 rect 태그 추가
                svg1.append('rect')  
                    // rect 태그에 속성 추가
                    .attr('height', data)
                    .attr('width', 40)
                    .attr('x', 50*idx)
                    .attr('y', 100 - data);
            })

            const data2 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
            const svg2 = d3.select('#test2 svg')
            svg2.selectAll('bar')
                // data2 파일 입력하여 rect 태그 추가
                .data(data2)
                .enter().append('rect')
                // 속성 추가
                .attr('height', (data, idx)=>{ return data * 10 })
                .attr('width', 40)
                .attr('x', (data, idx)=>{ return idx * 50 })
                .attr('y', (data, idx)=>{ return 150 - data * 10 })
                // background-color 추가
                .attr('fill', 'blue');

        })

    </script>
</body>
</html>